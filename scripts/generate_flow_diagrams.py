#!/usr/bin/env python3
"""
Flow Diagram Generator for Circles Application
Generates ASCII flow diagrams for request flows
"""

import os
import sys


def generate_general_flow():
    """Generate general request flow diagram"""
    print("ğŸ”„ GENERAL REQUEST FLOW")
    print("=" * 60)
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   CLIENT    â”‚")
    print("â”‚   REQUEST   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   FASTAPI   â”‚")
    print("â”‚ APPLICATION â”‚")
    print("â”‚  (main.py)  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ MIDDLEWARE  â”‚")
    print("â”‚    STACK    â”‚")
    print("â”‚  (CORS, Log,â”‚")
    print("â”‚    Error)   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   ROUTER    â”‚")
    print("â”‚  MATCHING   â”‚")
    print("â”‚ (auth, usersâ”‚")
    print("â”‚  places...) â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚DEPENDENCY   â”‚")
    print("â”‚ INJECTION   â”‚")
    print("â”‚ (auth, db)  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  REQUEST    â”‚")
    print("â”‚ VALIDATION  â”‚")
    print("â”‚ (Pydantic)  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  BUSINESS   â”‚")
    print("â”‚   LOGIC     â”‚")
    print("â”‚ (Service)   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  DATABASE   â”‚")
    print("â”‚ OPERATIONS  â”‚")
    print("â”‚ (SQLAlchemy)â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  RESPONSE   â”‚")
    print("â”‚SERIALIZATIONâ”‚")
    print("â”‚ (Pydantic)  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   CLIENT    â”‚")
    print("â”‚  RESPONSE   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def generate_auth_flow():
    """Generate authentication flow diagram"""
    print("ğŸ” AUTHENTICATION FLOW")
    print("=" * 60)
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   CLIENT    â”‚    â”‚   CLIENT    â”‚")
    print("â”‚ REQUEST OTP â”‚    â”‚ VERIFY OTP  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚                  â”‚")
    print("       â–¼                  â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  RATE LIMIT â”‚    â”‚  RATE LIMIT â”‚")
    print("â”‚    CHECK    â”‚    â”‚    CHECK    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚                  â”‚")
    print("       â–¼                  â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ OTP GENERATEâ”‚    â”‚ OTP VERIFY  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚                  â”‚")
    print("       â–¼                  â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ EMAIL SEND  â”‚    â”‚ USER CREATE â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚   /GET      â”‚")
    print("       â”‚           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â–¼                  â”‚")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â–¼")
    print("â”‚ DB STORE    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ (OTPCode)   â”‚    â”‚ JWT GENERATEâ”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚                  â”‚")
    print("       â–¼                  â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  RESPONSE   â”‚    â”‚  RESPONSE   â”‚")
    print("â”‚ 'OTP sent'  â”‚    â”‚ JWT Token   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def generate_protected_endpoint_flow():
    """Generate protected endpoint flow diagram"""
    print("ğŸ›¡ï¸ PROTECTED ENDPOINT FLOW")
    print("=" * 60)
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   CLIENT    â”‚")
    print("â”‚ GET /users/meâ”‚")
    print("â”‚ + Auth Headerâ”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ JWT EXTRACT â”‚")
    print("â”‚ & VALIDATE  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ USER LOOKUP â”‚")
    print("â”‚ (Database)  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ PERMISSION  â”‚")
    print("â”‚    CHECK    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ BUSINESS    â”‚")
    print("â”‚   LOGIC     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ DB QUERY    â”‚")
    print("â”‚ (if needed) â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ SERIALIZE   â”‚")
    print("â”‚ RESPONSE    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   CLIENT    â”‚")
    print("â”‚  RESPONSE   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def generate_websocket_flow():
    """Generate WebSocket flow diagram"""
    print("ğŸ”Œ WEBSOCKET FLOW")
    print("=" * 60)
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   CLIENT    â”‚")
    print("â”‚ WebSocket   â”‚")
    print("â”‚ /ws/dms/{id}â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ TOKEN VALID â”‚")
    print("â”‚ (JWT)       â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ THREAD ACCESSâ”‚")
    print("â”‚ VALIDATION  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ CONNECTION  â”‚")
    print("â”‚ MANAGER     â”‚")
    print("â”‚ REGISTER    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ WEBSOCKET   â”‚")
    print("â”‚ ACCEPT      â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ PRESENCE    â”‚")
    print("â”‚ BROADCAST   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    print("ğŸ“¨ MESSAGE FLOW:")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ CLIENT MSG  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ MSG VALIDATEâ”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ DB STORE    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ CONCURRENT  â”‚")
    print("â”‚ BROADCAST   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ ALL USERS   â”‚")
    print("â”‚ RECEIVE MSG â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def generate_file_upload_flow():
    """Generate file upload flow diagram"""
    print("ğŸ“ FILE UPLOAD FLOW")
    print("=" * 60)
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚   CLIENT    â”‚")
    print("â”‚ Multipart   â”‚")
    print("â”‚ Form Data   â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ JWT AUTH    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ FILE VALID  â”‚")
    print("â”‚ (type, size)â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ IMAGE PROC  â”‚")
    print("â”‚ (Pillow)    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ STORAGE     â”‚")
    print("â”‚ BACKEND     â”‚")
    print("â”‚ (S3/Local)  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ ASYNC STORE â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ DB UPDATE   â”‚")
    print("â”‚ (file URL)  â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  RESPONSE   â”‚")
    print("â”‚ Updated URL â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def generate_database_flow():
    """Generate database operation flow diagram"""
    print("ğŸ—„ï¸ DATABASE OPERATION FLOW")
    print("=" * 60)
    print()
    print("READ OPERATION:")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ SERVICE     â”‚")
    print("â”‚ REQUEST     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ SESSION     â”‚")
    print("â”‚ CREATE      â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ QUERY BUILD â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ EXECUTE     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ PROCESS     â”‚")
    print("â”‚ RESULTS     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ SESSION     â”‚")
    print("â”‚ CLEANUP     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ RETURN      â”‚")
    print("â”‚ DATA        â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    print("WRITE OPERATION:")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ SERVICE     â”‚")
    print("â”‚ REQUEST     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ SESSION     â”‚")
    print("â”‚ CREATE      â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ MODEL       â”‚")
    print("â”‚ CREATE/UPDATEâ”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ SESSION ADD â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ COMMIT      â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ REFRESH     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ CLEANUP     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ RETURN      â”‚")
    print("â”‚ UPDATED     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def generate_error_flow():
    """Generate error handling flow diagram"""
    print("âŒ ERROR HANDLING FLOW")
    print("=" * 60)
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ EXCEPTION   â”‚")
    print("â”‚ OCCURS      â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ EXCEPTION   â”‚")
    print("â”‚ CAPTURE     â”‚")
    print("â”‚ (try/catch) â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ ERROR LOG   â”‚")
    print("â”‚ (logger)    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ ERROR       â”‚")
    print("â”‚ CLASSIFY    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ HTTP STATUS â”‚")
    print("â”‚ ASSIGN      â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ ERROR       â”‚")
    print("â”‚ RESPONSE    â”‚")
    print("â”‚ CREATE      â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ MIDDLEWARE  â”‚")
    print("â”‚ PROCESS     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ CLIENT      â”‚")
    print("â”‚ ERROR       â”‚")
    print("â”‚ RESPONSE    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def generate_rate_limiting_flow():
    """Generate rate limiting flow diagram"""
    print("â±ï¸ RATE LIMITING FLOW")
    print("=" * 60)
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ CLIENT      â”‚")
    print("â”‚ REQUEST     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ RATE LIMIT  â”‚")
    print("â”‚ CHECK       â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ COUNTER     â”‚")
    print("â”‚ UPDATE      â”‚")
    print("â”‚ (in-memory) â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ TIME WINDOW â”‚")
    print("â”‚ VALIDATE    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ LIMIT       â”‚")
    print("â”‚ ENFORCE     â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ ALLOWED?    â”‚    â”‚ BLOCKED?    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚                  â”‚")
    print("       â–¼                  â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ PROCESS     â”‚    â”‚ RATE LIMIT  â”‚")
    print("â”‚ REQUEST     â”‚    â”‚ RESPONSE    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print("       â”‚")
    print("       â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ NORMAL      â”‚")
    print("â”‚ RESPONSE    â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()


def main():
    """Generate all flow diagrams"""
    print("ğŸ¯ CIRCLES APPLICATION - REQUEST FLOW DIAGRAMS")
    print("=" * 80)
    print()

    generate_general_flow()
    generate_auth_flow()
    generate_protected_endpoint_flow()
    generate_websocket_flow()
    generate_file_upload_flow()
    generate_database_flow()
    generate_error_flow()
    generate_rate_limiting_flow()

    print("ğŸ“‹ FLOW DIAGRAMS GENERATED SUCCESSFULLY!")
    print("=" * 80)
    print()
    print("These diagrams show the complete request flow through the Circles application.")
    print("Use them for debugging, optimization, and understanding system behavior.")
    print()
    print("For detailed documentation, see: docs/request_flow_documentation.md")


if __name__ == "__main__":
    main()
